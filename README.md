# VerilogRISCVProcessor

本プロジェクトでは，RISC-Vアーキテクチャに基づいたパイプライン型プロセッサと，さらに拡張したスーパースカラプロセッサの設計と実装を行った。

## 実装内容

### パイプライン型プロセッサ
- **5ステージのパイプライン構造**
  - Instruction Fetch, Instruction Decode & Register Read, Execution, Memory Access, Write Backの5ステージ。
- **データフォワーディング**
  - MEMおよびWBステージからのフォワーディングを実装。
- **ハザード処理**
  - 分岐予測失敗やロードユースハザード時にバブルを挿入。
- **分岐予測**
  - 2bitのbimodal分岐予測を実装。
- **M拡張対応**
  - 乗算・除算命令をサポート。

### スーパースカラプロセッサ
- 上記のパイプライン構造をベースに，2命令同時実行を可能にするスーパースカラ化を実装。
- **2命令同時実行判定回路の設計**
  - メモリ操作命令やRead After Write (RAW)ハザードを考慮した同時実行判定回路を設計。
- **レジスタファイルの改良**
  - 1サイクルで2つの書き込みを可能にするマルチポートレジスタを採用。
- **分岐予測の拡張**
  - 2命令分の分岐予測を行う設計。

## 性能評価

### パイプライン型プロセッサ
- **動作周波数:** 74MHz
- **Coremarkスコア:** 166
- **IPC (命令サイクルあたりの命令数):** 0.65

性能がIPC 1.0を下回る主な理由:
- 分岐予測失敗に伴うパイプラインフラッシュ。
- ロード命令によるストール。
- M拡張命令の複数サイクル実行。

### スーパースカラプロセッサ
- **動作周波数:** 85MHz (M拡張なし)
- **Coremarkスコア:** 142 (M拡張なし)
- **IPC:** 1.20 (M拡張なし)

M拡張対応により動作周波数およびIPCは低下したが，Coremarkスコアは向上。
